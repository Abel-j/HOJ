{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{353:function(s,a,t){\"use strict\";t.r(a);var e=t(41),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"环境配置\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境配置\"}},[s._v(\"#\")]),s._v(\" 环境配置\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"环境说明\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境说明\"}},[s._v(\"#\")]),s._v(\" 环境说明\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"后端：需要在Linux系统下部署运行，建议使用ubuntu18.04，其它版本的Linux系统也可，同时需要\"),t(\"strong\",[s._v(\"Docker\")]),s._v(\"辅助部署\")]),s._v(\" \"),t(\"li\",[s._v(\"前端：Linux系统下，需要nginx进行反向代理\")]),s._v(\" \"),t(\"li\",[s._v(\"判题服务：由于判题沙盒有多操作系统版本，Linux系统或Windows都可，强烈建议Linux系统（Ubuntu）\")]),s._v(\" \"),t(\"li\",[s._v(\"数据同步：需要运行判题服务和后端服务的服务器有rsync即可\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"linux环境搭建\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#linux环境搭建\"}},[s._v(\"#\")]),s._v(\" Linux环境搭建\")]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"请先准备一台 CPU: 1核 内存: 2G 硬盘: 30G的云服务器，推荐Ubuntu16.04以上的操作系统，\")]),s._v(\" \"),t(\"p\",[s._v(\"HOJ使用的Ubuntu18.04版本，单机部署建议2G以上内存\")])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"安装docker\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装docker\"}},[s._v(\"#\")]),s._v(\" 安装docker\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"安装需要的包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" update\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装依赖包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   apt-transport-https \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   ca-certificates \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   gnupg-agent \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   software-properties-common\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"添加 Docker 的官方 GPG 密钥\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -fsSL https://download.docker.com/linux/ubuntu/gpg \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" apt-key \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"add\")]),s._v(\" -\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"设置远程仓库\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" add-apt-repository \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n   \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\\\\n  '),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),s._v(\"lsb_release -cs\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(' \\\\\\n  stable\"')]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"安装 Docker-CE\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" update\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt-get\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce docker-ce-cli containerd.io\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"验证是否成功\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" docker run hello-world\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"安装docker-compose\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装docker-compose\"}},[s._v(\"#\")]),s._v(\" 安装docker-compose\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"下载\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -L https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -s\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),s._v(\"-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -m\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),s._v(\" -o /usr/local/bin/docker-compose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"授权\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /usr/local/bin/docker-compose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"windows-环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#windows-环境\"}},[s._v(\"#\")]),s._v(\" Windows 环境\")]),s._v(\" \"),t(\"p\",[s._v(\"Windows 下的安装仅供体验，勿在生产环境使用。如有必要，请使用虚拟机安装 Linux 并将 OJ 安装在其中。\")]),s._v(\" \"),t(\"p\",[s._v(\"以下教程仅适用于 Win10 x64 下的 \"),t(\"code\",[s._v(\"PowerShell\")])]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"安装 Windows 的 Docker 工具\")]),s._v(\" \"),t(\"li\",[s._v(\"右击右下角 Docker 图标，选择 Settings 进行设置\")]),s._v(\" \"),t(\"li\",[s._v(\"选择 \"),t(\"code\",[s._v(\"Shared Drives\")]),s._v(\" 菜单，之后勾选你想安装 OJ 的盘符位置（例如勾选D盘），点击 \"),t(\"code\",[s._v(\"Apply\")])]),s._v(\" \"),t(\"li\",[s._v(\"输入 Windows 的账号密码进行文件共享\")]),s._v(\" \"),t(\"li\",[s._v(\"安装 \"),t(\"code\",[s._v(\"Python\")]),s._v(\"、\"),t(\"code\",[s._v(\"pip\")]),s._v(\"、\"),t(\"code\",[s._v(\"git\")]),s._v(\"、\"),t(\"code\",[s._v(\"docker-compose\")]),s._v(\"，安装方法自行搜索。\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"单个部署\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#单个部署\"}},[s._v(\"#\")]),s._v(\" 单个部署\")]),s._v(\" \"),t(\"p\",[s._v(\"单个部署的顺序是：redis，mysql，rsync，frontend >> nacos >> backend，judgeserver\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"docker-compose开始部署\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#docker-compose开始部署\"}},[s._v(\"#\")]),s._v(\" docker-compose开始部署\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[s._v(\"选择好需要安装的位置，运行下面命令\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\" clone https://gitee.com/himitzh0730/hoj-deploy.git \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" hoj-deploy\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"单机部署（建议服务器内存2G以上）\")]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"注意：以下操作建议试用，配置大部分是默认的，实际运行请修改\"),t(\"code\",[s._v(\"docker-compose.yml\")]),s._v(\"文件的配置\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" standAlone \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" docker-compose up -d\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"根据网速情况，大约十到二十分钟即可安装完毕，全程无需人工干预。\")]),s._v(\" \"),t(\"p\",[s._v(\"等待命令执行完毕后，查看容器状态\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\" -a\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"当看到所有的容器的状态status都为\"),t(\"code\",[s._v(\"UP\")]),s._v(\"或\"),t(\"code\",[s._v(\"healthy\")]),s._v(\"就代表 OJ 已经启动成功。\")]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"更多自定义配置请查看**/standAlone/.env**的文件，或者/src下各组件的详情说明\")])]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"以下默认参数说明\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"默认超级管理员账号与密码：root / hoj123456\")]),s._v(\" \"),t(\"li\",[s._v(\"默认redis密码：hoj123456\")]),s._v(\" \"),t(\"li\",[s._v(\"默认mysql账号与密码：root / hoj123456\")]),s._v(\" \"),t(\"li\",[s._v(\"默认nacos管理员账号与密码：root / hoj123456\")]),s._v(\" \"),t(\"li\",[s._v(\"默认不开启https，开启需修改文件同时提供证书文件\")]),s._v(\" \"),t(\"li\",[s._v(\"判题并发数默认：cpu核心数*2\")])])])]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"p\",[s._v(\"默认开启vj判题，需要手动修改添加账号与密码，如果不添加不能vj判题！\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"vj判题并发数默认：cpu核心数*4\")])]),s._v(\" \"),t(\"p\",[t(\"strong\",[s._v(\"登录root账号到后台查看服务状态以及到\"),t(\"code\",[s._v(\"http://ip/admin/conf\")]),s._v(\"修改服务配置!\")])]),s._v(\" \"),t(\"p\",[t(\"u\",[s._v(\"注意：网站的注册及用户账号相关操作需要邮件系统，所以请在系统配置中配置自己的邮件服务。\")])])])]),s._v(\" \"),t(\"ol\",{attrs:{start:\"3\"}},[t(\"li\",[t(\"p\",[s._v(\"分布式部署（默认开启rsync数据同步）\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"p\",[s._v(\"主服务启动，默认不提供判题服务，请修改该启动文件配置\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" distributed/main\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" .env \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 请根据文件内注释提示修改\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"配置修改保存后，在\"),t(\"code\",[s._v(\"docker-compose.yml\")]),s._v(\"当前路径下启动该服务\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker-compose up -d\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"判题服务启动，请修改该启动文件配置\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" distributed/judgeserver\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" .env \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 请根据文件内注释提示修改\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"配置修改保存后，在\"),t(\"code\",[s._v(\"docker-compose.yml\")]),s._v(\"当前路径下启动该服务\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker-compose up -d\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])])])]),s._v(\" \"),t(\"p\",[s._v(\"两个服务都启动完成，在浏览器输入主服务ip或域名进行访问，登录root账号到后台查看服务状态以及到\"),t(\"code\",[s._v(\"http://ip/admin/conf\")]),s._v(\"修改服务配置!\")])])]),s._v(\" \"),t(\"blockquote\",[t(\"p\",[s._v(\"如果需要开启https\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"p\",[s._v(\"单机：\")]),s._v(\" \"),t(\"p\",[s._v(\"提供server.crt和server.key证书与密钥文件放置\"),t(\"code\",[s._v(\"/standAlone\")]),s._v(\"目录下，与\"),t(\"code\",[s._v(\"docker-compose.yml\")]),s._v(\"和\"),t(\"code\",[s._v(\".env\")]),s._v(\"文件放置同一位置，然后修改\"),t(\"code\",[s._v(\"docker-compose.yml\")]),s._v(\"中的hoj-frontend的配置\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"分布式：提供server.crt和server.key证书与密钥文件放置\"),t(\"code\",[s._v(\"/distributed/main目录下，与\")]),s._v(\"docker-compose.yml\"),t(\"code\",[s._v(\"和\")]),s._v(\".env\"),t(\"code\",[s._v(\"文件放置同一位置，然后修改\")]),s._v(\"docker-compose.yml`中的hoj-frontend的配置\")])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-yaml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-yaml\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"hoj-frontend\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"image\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" registry.cn\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"shenzhen.aliyuncs.com/hcode/hoj_frontend\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"container_name\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" hoj\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"frontend\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"restart\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" always\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 开启https，请提供证书\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#volumes:\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" ./server.crt\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"/etc/nginx/etc/crt/server.crt\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" ./server.key\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"/etc/nginx/etc/crt/server.key\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"environment\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" SERVER_NAME=localhost  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 提供你的域名！！！！\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" BACKEND_SERVER_HOST=$\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"BACKEND_HOST\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"172.20.0.5\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# backend后端服务地址\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" BACKEND_SERVER_PORT=$\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"BACKEND_PORT\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"-6688\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# backend后端服务端口号\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" USE_HTTPS=true \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 使用https请设置为true\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ports\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"80:80\"')]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"443:443\"')]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"networks\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"hoj-network\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ipv4_address\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" 172.20.0.6\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),t(\"br\")])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}